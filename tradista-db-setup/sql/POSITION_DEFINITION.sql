CREATE table POSITION_DEFINITION(
ID BIGINT PRIMARY KEY GENERATED ALWAYS AS IDENTITY  (START WITH 1, INCREMENT BY 1),
NAME VARCHAR(20) UNIQUE NOT NULL,
PRICING_PARAMETER_ID BIGINT,
BOOK_ID  BIGINT,
PRODUCT_TYPE  VARCHAR(20),
PRODUCT_ID BIGINT, 
COUNTERPARTY_ID BIGINT,
CURRENCY_ID BIGINT,
IS_REAL_TIME BOOLEAN,
PROCESSING_ORG_ID BIGINT,
CONSTRAINT FK_POSITION_DEFINITION_PRICING_PARAMETER_ID FOREIGN KEY (PRICING_PARAMETER_ID) REFERENCES PRICING_PARAMETER(ID),
CONSTRAINT FK_POSITION_DEFINITION_CURRENCY_ID FOREIGN KEY (CURRENCY_ID) REFERENCES CURRENCY(ID),
CONSTRAINT FK_POSITION_DEFINITION_BOOK_ID FOREIGN KEY (BOOK_ID) REFERENCES BOOK(ID),
CONSTRAINT FK_POSITION_DEFINITION_PRODUCT_ID FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCT(ID),
CONSTRAINT FK_POSITION_DEFINITION_COUNTERPARTY_ID FOREIGN KEY (COUNTERPARTY_ID) REFERENCES LEGAL_ENTITY(ID),
CONSTRAINT FK_POSITION_DEFINITION_PROCESSING_ORG_ID FOREIGN KEY (PROCESSING_ORG_ID) REFERENCES LEGAL_ENTITY(ID),
CONSTRAINT UC_POSITION_DEFINITION_NAME_PROCESSING_ORG_ID UNIQUE (NAME, PROCESSING_ORG_ID));